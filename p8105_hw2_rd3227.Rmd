---
title: "p8105_hw2_rd3227"
author: "Ruihan Ding"
date: "2025-09-29"
output: github_document
---

```{r setup, include=FALSE}
library(tidyverse)
library(readxl)
library(haven)
```

# Problem 1

Clean the data in pols-month.csv

```{r}
# import dataset
pols_df = 
  read_csv(
    "fivethirtyeight/pols-month.csv", 
    na = c("NA", ".", ""), 
    show_col_types = FALSE
    ) |> 
  janitor::clean_names() |> 
  
# break up the variable mon into integer variables year, month, and day
  separate(
    mon, into = c("year", "month", "day"), sep = "-",
  ) |> 
  mutate(across(c(year:day), as.integer)) |> 

# replace month number with month name
  mutate(month = month.name[month]) |> 

# create a president variable
  mutate(
    president = case_when(
      prez_gop == 1 ~ "dem",
      prez_dem == 1 ~ "gop"
    )) |> 

# remove unnecessary columns
  select(-prez_gop, -prez_dem, -day)

```

Clean the data in snp.csv

```{r}
# import dataset
snp_df = 
  read_csv(
    "fivethirtyeight/snp.csv", 
    na = c("NA", ".", ""),
    show_col_types = FALSE
    ) |> 
  janitor::clean_names() |> 

# break up the variable date
  separate(
    date, into = c("month", "day", "year"), sep = "/",
  ) |> 
  mutate(across(c(month:day), as.integer)) |> 

# replace month number with month name
  mutate(month = month.name[month]) |> 

# arrange and organize
  select(year, month, everything(), -day) |> 
  arrange(year, month)

```











